---
  - name: Create group for Nexus user
    group:
      name: "{{nexus_group}}"
      state: present

  - name: Create user for Nexus
    user:
      name: "{{nexus_user}}"
      password: "{{nexus_password}}"
      state: present

  - name: Install Nexus OSS
    include: "plays/install_tool.yml"
    vars:
      tool_name : nexus
      folder_name : "{{ nexus_folder }}"
      zip_filename: "{{ nexus_zip }}"
      add_version_to_folder : false
      zip_has_folder : true
      has_bin_folder : true
      user: "{{nexus_user}}"

  - name: Set Nexus folder owner
    file:
      path: /usr/local/nexus
      owner: "{{nexus_user}}"
      group: "{{nexus_group}}"
      state: directory
      recurse: yes

